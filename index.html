
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Project five</title>
  </head>
  <body>
    <div class="bgimg"></div>
    <div class="counter">0%</div>

    <script>
        const loadNumber = document.querySelector('.counter')
const bgimg = document.querySelector('.bgimg')

let load = 0

let int = setInterval(blurring, 30)

function blurring() {
  load++

  if (load > 99) {
    clearInterval(int)
  }

  loadNumber.innerText = `${load}%`
  loadNumber.style.opacity = scale(load, 0, 100, 1, 0)
  bgimg.style.filter = `blur(${scale(load, 0, 100, 30, 0)}px)`
}

// https://stackoverflow.com/questions/10756313/javascript-jquery-map-a-range-of-numbers-to-another-range-of-numbers
const scale = (num, in_min, in_max, out_min, out_max) => {
  return ((num - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min
}
    </script>
  </body>
</html>
